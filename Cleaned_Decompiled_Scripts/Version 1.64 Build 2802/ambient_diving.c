//Cleaned With dr NHA's C Script Cleaner V2.72
#region Local Var
var uLocal_0=0;
var uLocal_1=0;
int iLocal_2=0;
int iLocal_3=0;
int iLocal_4=0;
int iLocal_5=0;
int iLocal_6=0;
int iLocal_7=0;
int iLocal_8=0;
int iLocal_9=0;
int iLocal_10=0;
int iLocal_11=0;
var uLocal_12=0;
var uLocal_13=0;
float fLocal_14=0f;
var uLocal_15=0;
var uLocal_16=0;
int iLocal_17=0;
var uLocal_18=0;
var uLocal_19=0;
var uLocal_20=0;
char* sLocal_21=0;
var uLocal_22=0;
var uLocal_23=0;
float fLocal_24=0f;
var uLocal_25=0;
var uLocal_26=0;
var uLocal_27=0;
float fLocal_28=0f;
float fLocal_29=0f;
var uLocal_30=0;
var uLocal_31=0;
var uLocal_32=0;
float fLocal_33=0f;
float fLocal_34=0f;
float fLocal_35=0f;
var uLocal_36=0;
var uLocal_37=0;
int iLocal_38=0;
var uLocal_39=0;
BOOL bLocal_40=0;
BOOL bLocal_41=0;
var uLocal_42=0;
var uLocal_43=0;
var uLocal_44=0;
var uLocal_45=0;
var uLocal_46=0;
var uLocal_47=0;
var uLocal_48=0;
var uLocal_49=0;
var uLocal_50=0;
var uLocal_51=0;
var uLocal_52=0;
var uLocal_53=0;
var uLocal_54=0;
int iLocal_55=30;
var uLocal_56=0;
var uLocal_57=0;
var uLocal_58=0;
var uLocal_59=0;
var uLocal_60=0;
var uLocal_61=0;
var uLocal_62=0;
var uLocal_63=0;
var uLocal_64=0;
var uLocal_65=0;
var uLocal_66=0;
var uLocal_67=0;
var uLocal_68=0;
var uLocal_69=0;
var uLocal_70=0;
var uLocal_71=0;
var uLocal_72=0;
var uLocal_73=0;
var uLocal_74=0;
var uLocal_75=0;
var uLocal_76=0;
var uLocal_77=0;
var uLocal_78=0;
var uLocal_79=0;
var uLocal_80=0;
var uLocal_81=0;
var uLocal_82=0;
var uLocal_83=0;
var uLocal_84=0;
var uLocal_85=0;
var uLocal_86=0;
var uLocal_87=0;
var uLocal_88=0;
var uLocal_89=0;
var uLocal_90=0;
var uLocal_91=0;
var uLocal_92=0;
var uLocal_93=0;
var uLocal_94=0;
var uLocal_95=0;
var uLocal_96=0;
var uLocal_97=0;
var uLocal_98=0;
var uLocal_99=0;
var uLocal_100=0;
var uLocal_101=0;
var uLocal_102=0;
var uLocal_103=0;
var uLocal_104=0;
var uLocal_105=0;
var uLocal_106=0;
var uLocal_107=0;
var uLocal_108=0;
var uLocal_109=0;
var uLocal_110=0;
var uLocal_111=0;
var uLocal_112=0;
var uLocal_113=0;
var uLocal_114=0;
var uLocal_115=0;
var uLocal_116=0;
var uLocal_117=0;
var uLocal_118=0;
var uLocal_119=0;
var uLocal_120=0;
var uLocal_121=0;
var uLocal_122=0;
var uLocal_123=0;
var uLocal_124=0;
var uLocal_125=0;
var uLocal_126=0;
var uLocal_127=0;
var uLocal_128=0;
var uLocal_129=0;
var uLocal_130=0;
var uLocal_131=0;
var uLocal_132=0;
var uLocal_133=0;
var uLocal_134=0;
var uLocal_135=0;
var uLocal_136=0;
var uLocal_137=0;
var uLocal_138=0;
var uLocal_139=0;
var uLocal_140=0;
var uLocal_141=0;
var uLocal_142=0;
var uLocal_143=0;
var uLocal_144=0;
var uLocal_145=0;
var uLocal_146=0;
var uLocal_147=0;
var uLocal_148=0;
var uLocal_149=0;
var uLocal_150=0;
var uLocal_151=0;
var uLocal_152=0;
var uLocal_153=0;
var uLocal_154=0;
var uLocal_155=0;
var uLocal_156=0;
var uLocal_157=0;
var uLocal_158=0;
var uLocal_159=0;
var uLocal_160=0;
var uLocal_161=0;
var uLocal_162=0;
var uLocal_163=0;
var uLocal_164=0;
var uLocal_165=0;
var uLocal_166=0;
var uLocal_167=0;
var uLocal_168=0;
var uLocal_169=0;
var uLocal_170=0;
var uLocal_171=0;
var uLocal_172=0;
var uLocal_173=0;
var uLocal_174=0;
var uLocal_175=0;
var uLocal_176=0;
var uLocal_177=0;
var uLocal_178=0;
var uLocal_179=0;
var uLocal_180=0;
var uLocal_181=0;
var uLocal_182=0;
var uLocal_183=0;
var uLocal_184=0;
var uLocal_185=0;
var uLocal_186=0;
var uLocal_187=0;
var uLocal_188=0;
var uLocal_189=0;
var uLocal_190=0;
var uLocal_191=0;
var uLocal_192=0;
var uLocal_193=0;
var uLocal_194=0;
var uLocal_195=0;
var uLocal_196=0;
var uLocal_197=0;
var uLocal_198=0;
var uLocal_199=0;
var uLocal_200=0;
var uLocal_201=0;
var uLocal_202=0;
var uLocal_203=0;
var uLocal_204=0;
var uLocal_205=0;
var uLocal_206=0;
var uLocal_207=0;
var uLocal_208=0;
var uLocal_209=0;
var uLocal_210=0;
var uLocal_211=0;
var uLocal_212=0;
var uLocal_213=0;
var uLocal_214=0;
var uLocal_215=0;
var uLocal_216=0;
var uLocal_217=0;
var uLocal_218=0;
var uLocal_219=0;
var uLocal_220=0;
var uLocal_221=0;
var uLocal_222=0;
var uLocal_223=0;
var uLocal_224=0;
var uLocal_225=0;
var uLocal_226=0;
var uLocal_227=0;
var uLocal_228=0;
var uLocal_229=0;
var uLocal_230=0;
var uLocal_231=0;
var uLocal_232=0;
var uLocal_233=0;
var uLocal_234=0;
var uLocal_235=0;
var uLocal_236=0;
var uLocal_237=0;
var uLocal_238=0;
var uLocal_239=0;
var uLocal_240=0;
var uLocal_241=0;
var uLocal_242=0;
var uLocal_243=0;
var uLocal_244=0;
var uLocal_245=0;
var uLocal_246=0;
var uLocal_247=0;
var uLocal_248=0;
var uLocal_249=0;
var uLocal_250=0;
var uLocal_251=0;
var uLocal_252=0;
var uLocal_253=0;
var uLocal_254=0;
var uLocal_255=0;
var uLocal_256=0;
var uLocal_257=0;
var uLocal_258=0;
var uLocal_259=0;
var uLocal_260=0;
var uLocal_261=0;
var uLocal_262=0;
var uLocal_263=0;
var uLocal_264=0;
var uLocal_265=0;
var uLocal_266=0;
var uLocal_267=0;
var uLocal_268=0;
var uLocal_269=0;
var uLocal_270=0;
var uLocal_271=0;
var uLocal_272=0;
var uLocal_273=0;
var uLocal_274=0;
var uLocal_275=0;
var uLocal_276=0;
var uLocal_277=0;
var uLocal_278=0;
var uLocal_279=0;
var uLocal_280=0;
var uLocal_281=0;
var uLocal_282=0;
var uLocal_283=0;
var uLocal_284=0;
var uLocal_285=0;
var uLocal_286=0;
var uLocal_287=0;
var uLocal_288=0;
var uLocal_289=0;
var uLocal_290=0;
var uLocal_291=0;
var uLocal_292=0;
var uLocal_293=0;
var uLocal_294=0;
var uLocal_295=0;
var uLocal_296=0;
var uLocal_297=0;
var uLocal_298=0;
var uLocal_299=0;
var uLocal_300=0;
var uLocal_301=0;
var uLocal_302=0;
var uLocal_303=0;
var uLocal_304=0;
var uLocal_305=0;
var uLocal_306=0;
var uLocal_307=0;
var uLocal_308=0;
var uLocal_309=0;
var uLocal_310=0;
var uLocal_311=0;
var uLocal_312=0;
var uLocal_313=0;
var uLocal_314=0;
var uLocal_315=0;
var uLocal_316=0;
var uLocal_317=0;
var uLocal_318=0;
var uLocal_319=0;
var uLocal_320=0;
var uLocal_321=0;
var uLocal_322=0;
var uLocal_323=0;
var uLocal_324=0;
var uLocal_325=0;
var uLocal_326=0;
var uLocal_327=0;
var uLocal_328=0;
var uLocal_329=0;
var uLocal_330=0;
var uLocal_331=0;
var uLocal_332=0;
var uLocal_333=0;
var uLocal_334=0;
var uLocal_335=0;
var uLocal_336=0;
var uLocal_337=0;
var uLocal_338=0;
var uLocal_339=0;
var uLocal_340=0;
var uLocal_341=0;
var uLocal_342=0;
var uLocal_343=0;
var uLocal_344=0;
var uLocal_345=0;
var uLocal_346=0;
var uLocal_347=0;
var uLocal_348=0;
var uLocal_349=0;
var uLocal_350=0;
var uLocal_351=0;
var uLocal_352=0;
var uLocal_353=0;
var uLocal_354=0;
var uLocal_355=0;
var uLocal_356=0;
var uLocal_357=0;
var uLocal_358=0;
var uLocal_359=0;
var uLocal_360=0;
var uLocal_361=0;
var uLocal_362=0;
var uLocal_363=0;
var uLocal_364=0;
var uLocal_365=0;
var uLocal_366=0;
var uLocal_367=0;
var uLocal_368=0;
var uLocal_369=0;
var uLocal_370=0;
var uLocal_371=0;
var uLocal_372=0;
var uLocal_373=0;
var uLocal_374=0;
var uLocal_375=0;
var uLocal_376=0;
var uLocal_377=0;
var uLocal_378=0;
var uLocal_379=0;
var uLocal_380=0;
var uLocal_381=0;
var uLocal_382=0;
var uLocal_383=0;
var uLocal_384=0;
var uLocal_385=0;
int iLocal_386=0;
var uLocal_387=0;
int iLocal_388=0;
int iLocal_389=0;
Blip blLocal_390=0;
int iLocal_391=0;
Blip blLocal_392=0;
var uLocal_393=4;
var uLocal_394=0;
var uLocal_395=0;
var uLocal_396=0;
var uLocal_397=0;
var uLocal_398=4;
var uLocal_399=0;
var uLocal_400=0;
var uLocal_401=0;
var uLocal_402=0;
float fLocal_403=0f;
float fLocal_404=0f;
float fLocal_405=0f;
BOOL bLocal_406=0;
BOOL bLocal_407=0;
int iLocal_408=0;
Vehicle veLocal_409=0;
Blip blLocal_410=0;
int iLocal_411=0;
BOOL bLocal_412=0;
#endregion

void main() // Position - 0x0{
iLocal_2=1;
iLocal_3=134;
iLocal_4=134;
iLocal_5=1;
iLocal_6=1;
iLocal_7=1;
iLocal_8=134;
iLocal_9=1;
iLocal_10=12;
iLocal_11=12;
fLocal_14=0.001f;
iLocal_17=-1;
sLocal_21="NULL";
fLocal_24=0f;
fLocal_28=-0.0375f;
fLocal_29=0.17f;
fLocal_33=80f;
fLocal_34=140f;
fLocal_35=180f;
iLocal_38=3;
bLocal_40=true;
bLocal_41=true;
iLocal_388=-1;
bLocal_406=true;
iLocal_408=AUDIO::GET_SOUND_ID();
if(PLAYER::HAS_FORCE_CLEANUP_OCCURRED(210)) func_75(true);
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("ambient_diving")) > 1) SCRIPT::TERMINATE_THIS_THREAD();
func_74(27);
while (true){
SYSTEM::WAIT(0);
if(func_71(0)){
if(!bLocal_412){
func_75(false);
bLocal_412=true;
}}else{
bLocal_412=false;
func_70(PLAYER::PLAYER_PED_ID());
switch (iLocal_386){
case 0:
func_65();
break;
case 1:
func_62();
func_53();
func_1();
break;
case 2:
func_53();
break;
case 3:
func_75(true);
break;
}}}
return;
}


void func_1() // Position - 0x116{
if(func_18(&uLocal_42, &iLocal_55) || func_17(110)==true){
if(func_16()) func_15(false);
func_8(298, 0, 0);
if(!func_17(110))if(!bLocal_407) bLocal_407=func_3(1303349750, 1, 1, 16, 3, 1000, 10000, 1256519626, -1, 163, -1, 0);
func_2(2);
}
return;
}


void func_2(int iParam0) // Position - 0x183{
iLocal_386=iParam0;
return;
}
BOOL func_3(int iParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9, int iParam10, int iParam11) // Position - 0x190{
int num;
int i;
if(_IS_MISSION_REPEAT_ACTIVE(false)) return 0;
if(iParam5 < 0) return 0;
if(iParam6 < 0) return 0;
if(iParam8==76) return 0;
if(iParam9==235) return 0;
if(iParam3 < 3)if(IS_BIT_SET(iParam2, iParam3)) return 0;
if(iParam4 < 3)if(iParam4 !=iParam3) return 0;
if(iParam2 < 1 || iParam2 > 7) return 0;
if(Global_113648.f_7690.f_136 < 9){
num=iParam0;
if(Global_113648.f_7690.f_911==num) Global_113648.f_7690.f_911=-1;
num.f_3=func_6(iParam1);
num.f_1=iParam11;
num.f_2=iParam2;
num.f_4=MISC::GET_GAME_TIMER() + iParam5;
num.f_5=iParam6;
num.f_6=iParam3;
num.f_14=iParam4;
num.f_10=iParam7;
num.f_11=-1;
num.f_7=iParam8;
num.f_8=iParam9;
num.f_9=iParam10;
MISC::CLEAR_BIT(&(num.f_1), 1);
MISC::CLEAR_BIT(&(num.f_1), 0);
if(iParam7 !=-1) MISC::SET_BIT(&(num.f_1), 11);
elseif(iParam1==0) MISC::SET_BIT(&(num.f_1), 10);
Global_113648.f_7690[Global_113648.f_7690.f_136 /*15*/]={
num 
};
Global_113648.f_7690.f_136=Global_113648.f_7690.f_136 + 1;
for (i=0;
i < 3;
i=i + 1){
if(IS_BIT_SET(iParam2, i)) func_4(i);
}
return 1;
}
return 0;
}


void func_4(int iParam0) // Position - 0x30A{
int i;
int num;
int j;
num=0;
if(!func_5(iParam0)) return;
for (i=0;
i < Global_113648.f_7690.f_136;
i=i + 1){
if(IS_BIT_SET(Global_113648.f_7690[i /*15*/].f_2, iParam0))if(Global_113648.f_7690[i /*15*/].f_3 > num) num=Global_113648.f_7690[i /*15*/].f_3;
}
for (j=0;
j < Global_113648.f_7690.f_764;
j=j + 1){
if(IS_BIT_SET(Global_113648.f_7690.f_651[j /*14*/].f_2, iParam0))if(Global_113648.f_7690.f_651[j /*14*/].f_3==5) num=5;
}
Global_113648.f_7690.f_919[iParam0]=num;
return;
}
BOOL func_5(int iParam0) // Position - 0x3C8{
return iParam0 < 3;
}

int func_6(int iParam0) // Position - 0x3D4{
switch (iParam0){
case 0:
case 4:
return 5;
case 7:
return 4;
case 2:
return 3;
case 1:
return 2;
case 3:
return 1;
case 5:
case 6:
return 0;
}
return 7;
}
BOOL _IS_MISSION_REPEAT_ACTIVE(BOOL bExcludeBenchmark) // Position - 0x43E{
if(!bExcludeBenchmark && SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("benchmark")) > 0) return true;
return IS_BIT_SET(Global_78807, 0);
}


void func_8(int iParam0, int iParam1, int iParam2) // Position - 0x466{
BOOL flag;
iParam0 < 0;
if(iParam0==321 || iParam0 > 321){}else{
_STAT_SET_PACKED_BOOL(891 + iParam0, 1, -1);
}
flag=true;
if(Global_113648.f_10196[iParam0 /*12*/].f_5==1){
if(Global_113648.f_10196[iParam0 /*12*/].f_6==11 || Global_113648.f_10196[iParam0 /*12*/].f_6==12) flag=false;
}else{
Global_113648.f_10196[iParam0 /*12*/].f_5=1;
Global_113648.f_10196[iParam0 /*12*/].f_10=iParam1;
Global_113648.f_10196[iParam0 /*12*/].f_11=iParam2;
if(iParam0==287) STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_HIDDEN_PACKAGES_0"), 50, 0);
if(iParam0==286) STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_HIDDEN_PACKAGES_1"), 50, 0);
if(iParam0==299) STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_HIDDEN_PACKAGES_3"), 50, 0);
}
if(flag) func_9();
return;
}


void func_9() // Position - 0x54C{
int num;
float num2;
float num3;
float num4;
float num5;
float num6;
float num7;
float num8;
float value;
int value2;
num=0;
Global_113384=0;
Global_113385=0;
Global_113386=0;
Global_113387=0;
Global_113388=0;
Global_113389=0;
Global_113390=0;
num2=0f;
num3=0f;
num4=0f;
num5=0f;
num6=0f;
num7=0f;
num8=0f;
value=Global_113648.f_10196.f_3853;
Global_113648.f_10196.f_3853=0f;
while (num < 321){
if(Global_113648.f_10196[num /*12*/].f_5==1){
switch (Global_113648.f_10196[num /*12*/].f_6){
case 1:
Global_113384=Global_113384 + 1;
num2=num2 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 3:
Global_113385=Global_113385 + 1;
num3=num3 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 5:
Global_113386=Global_113386 + 1;
num4=num4 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 7:
Global_113387=Global_113387 + 1;
num5=num5 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 9:
Global_113388=Global_113388 + 1;
num6=num6 + (Global_113648.f_10196[num /*12*/].f_4 * 4f);
break;
case 11:
Global_113389=Global_113389 + 1;
num7=num7 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 13:
Global_113390=Global_113390 + 1;
num8=num8 + Global_113648.f_10196[num /*12*/].f_4;
break;
default:
break;
}}
num=num + 1;
}
if(Global_113367 > 0)if(Global_113384==Global_113367) num2=55f;
if(Global_113368 > 0)if(Global_113385==Global_113368) num3=10f;
if(Global_113369 > 0)if(Global_113386==Global_113369) num4=0f;
if(Global_113370 > 0)if(Global_113387==Global_113370) num5=10f;
if(Global_113371 > 0){
if(Global_113388==Global_113371 || (Global_113371 * 10) / Global_113388 < 41 || Global_113388 > Global_113374 || Global_113388==Global_113374){
if(!IS_BIT_SET(Global_113648.f_10196.f_3856, 14)){
if(Global_113388==Global_113371){
STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_RNDEVENTS_COMPLETED"), Global_113371, 0);
MISC::SET_BIT(&(Global_113648.f_10196.f_3856), 14);
}}
num6=5f;
}}
if(Global_113372 > 0)if(Global_113389==Global_113372) num7=15f;
if(Global_113373 > 0)if(Global_113390==Global_113373) num8=5f;
Global_113648.f_10196.f_3853=num2 + num3 + num4 + num5 + num6 + num7 + num8;
if(Global_113388 > Global_113374 || Global_113388==Global_113374) value2=Global_113374;
else value2=Global_113388;
STATS::STAT_SET_INT(joaat("NUM_MISSIONS_COMPLETED"), Global_113384, true);
STATS::STAT_SET_INT(joaat("NUM_MISSIONS_AVAILABLE"), Global_113367, true);
STATS::STAT_SET_INT(joaat("NUM_MINIGAMES_COMPLETED"), Global_113385, true);
STATS::STAT_SET_INT(joaat("NUM_MINIGAMES_AVAILABLE"), Global_113368, true);
STATS::STAT_SET_INT(joaat("NUM_ODDJOBS_COMPLETED"), Global_113386, true);
STATS::STAT_SET_INT(joaat("NUM_ODDJOBS_AVAILABLE"), Global_113369, true);
STATS::STAT_SET_INT(joaat("NUM_RNDPEOPLE_COMPLETED"), Global_113387, true);
STATS::STAT_SET_INT(joaat("NUM_RNDPEOPLE_AVAILABLE"), Global_113370, true);
STATS::STAT_SET_INT(joaat("NUM_RNDEVENTS_COMPLETED"), value2, true);
STATS::STAT_SET_INT(joaat("NUM_RNDEVENTS_AVAILABLE"), Global_113374, true);
STATS::STAT_SET_INT(joaat("NUM_MISC_COMPLETED"), Global_113390 + Global_113389, true);
STATS::STAT_SET_INT(joaat("NUM_MISC_AVAILABLE"), Global_113373 + Global_113372, true);
Global_113391=(Global_113384 * 100) / Global_113367;
Global_113393=((Global_113386 + Global_113385) * 100) / (Global_113369 + Global_113368);
Global_113392=((Global_113387 + value2) * 100) / (Global_113370 + Global_113374);
Global_113394=((Global_113389 + Global_113390) * 100) / (Global_113372 + Global_113373);
STATS::STAT_SET_FLOAT(joaat("TOTAL_PROGRESS_MADE"), Global_113648.f_10196.f_3853, true);
STATS::STAT_SET_INT(joaat("PERCENT_STORY_MISSIONS"), Global_113391, true);
STATS::STAT_SET_INT(joaat("PERCENT_AMBIENT_MISSIONS"), Global_113392, true);
STATS::STAT_SET_INT(joaat("PERCENT_ODDJOBS"), Global_113393, true);
if(value > 0f && SYSTEM::FLOOR(value) < SYSTEM::FLOOR(Global_113648.f_10196.f_3853)) func_12(13, SYSTEM::FLOOR(Global_113648.f_10196.f_3853));
if(!DATAFILE::DATAFILE_IS_SAVE_PENDING()){
if(!Global_78558){
if(func_11()==2==false && !NETWORK::NETWORK_IS_GAME_IN_PROGRESS()){
if(NETWORK::NETWORK_IS_CLOUD_AVAILABLE()) Global_113382=0;
if(!Global_63362) func_10();
}}}
return;
}

int func_10() // Position - 0xA0A{
if(_IS_MISSION_REPEAT_ACTIVE(false)) return 0;
if(Global_100720.f_8)if(Global_100720.f_10 > 0) return 0;
elseif(Global_100720.f_10 > 1) return 0;
Global_100720.f_10=Global_100720.f_10 + 1;
return 1;
}

int func_11() // Position - 0xA55{
return Global_32163;
}
BOOL func_12(int iParam0, int iParam1) // Position - 0xA60{
int achievementProgress;
if(iParam0 < 0) return false;
if(iParam0 > 78) return false;
if(iParam1 <=0 || iParam1 > 100) return false;
achievementProgress=PLAYER::GET_ACHIEVEMENT_PROGRESS(iParam0);
if(iParam1 > achievementProgress) return PLAYER::SET_ACHIEVEMENT_PROGRESS(iParam0, iParam1);
return false;
}


void _STAT_SET_PACKED_BOOL(int iParam0, int iParam1, int iParam2) // Position - 0xAB1{
if(iParam2==-1) iParam2=func_14();
unk_0x0111091C0EE35B9C(iParam0, iParam1, iParam2);
return;
}

int func_14() // Position - 0xACF{
return Global_1574918;
}


void func_15(BOOL bParam0) // Position - 0xADB{
if(bParam0) Global_113648.f_14053.f_89=1;
else Global_113648.f_14053.f_89=0;
return;
}
BOOL func_16() // Position - 0xAFF{
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("apptrackify")) > 0) return true;
return false;
}
BOOL func_17(int iParam0) // Position - 0xB1C{
if(iParam0==146 || iParam0==-1) return false;
return Global_113648.f_9087.f_99.f_58[iParam0];
}
BOOL func_18(var uParam0, var uParam1) // Position - 0xB49{
int i;
BOOL flag;
var entityCoords;
Vector3 entityCoords2;
int num;
PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID());
entityCoords={
ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true) 
};
for (i=0;
i < 1;
i=i + 1){
flag=func_52(&(uParam0->f_1), uParam0->f_10);
if(!uParam1->[uParam0->f_10 /*11*/].f_10)if(!flag)if(!func_51(uParam1->[uParam0->f_10 /*11*/].f_6, 0f, 0f, 0f, false)) func_49(&uParam1->[uParam0->f_10 /*11*/], uParam0->f_7, joaat("PICKUP_CUSTOM_SCRIPT"), false, true, 0);
else func_49(&uParam1->[uParam0->f_10 /*11*/], uParam0->f_7, joaat("PICKUP_CUSTOM_SCRIPT"), false, false, 2);
elseif(!flag) func_34(uParam0, uParam1, entityCoords);
uParam0->f_10=uParam0->f_10 + 1;
if(uParam0->f_10 >=*uParam1) uParam0->f_10=0;
}
if(uParam0->f_11){
if(!Global_78819) func_26(&(uParam0->f_11), &(uParam0->f_12), &(uParam0->f_9), 5, &iLocal_389, &uLocal_387, "DIVING_TITLE" /*Piece Collected~s~*/, "DIVING_COLLECT" /*~1~/30 submarine pieces collected.*/);
if(!func_25(44)){
entityCoords2={
ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true) 
};
if(func_24(&uLocal_42, &iLocal_55, entityCoords2, &num)){
if(MISC::GET_DISTANCE_BETWEEN_COORDS(func_23(num), entityCoords2, false) > 200f){
func_20("DIVING_HELP4" /*Return to a Dinghy to continue hunting for the submarine pieces.*/, 1, 7500, -1, 10000, 7, 0, 0, 0);
func_19(44);
}}}}
if(!bLocal_407)if(uParam0->f_1.f_4 >=uParam0->f_1.f_3) bLocal_407=func_3(1303349750, 1, 1, 16, 3, 1000, 10000, 1256519626, -1, 163, -1, 0);
if(!uParam0->f_12 && !uParam0->f_11) return uParam0->f_1.f_4 >=uParam0->f_1.f_3;
return false;
}


void func_19(int iParam0) // Position - 0xCF6{
int offset;
int i;
offset=iParam0;
for (i=0;
offset > 31;
i=i + 1){
offset=offset - 32;
}
if(i < 3) MISC::SET_BIT(&Global_113648.f_20412.f_150[i], offset);
return;
}


void func_20(char* sParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8) // Position - 0xD38{
func_21(sParam0, "", iParam1, iParam2, iParam3, iParam4, iParam5, iParam6, iParam7, iParam8);
return;
}


void func_21(char* sParam0, char* sParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6, int iParam7, int iParam8, int iParam9) // Position - 0xD59{
int i;
if(MISC::ARE_STRINGS_EQUAL(sParam0, "")) return;
if(iParam3 < 0) return;
if(iParam5 < 500 && iParam5 !=-1) return;
if(iParam4 < 0 && iParam4 !=-1) return;
if(iParam6 < 1 || iParam6 > 7) return;
if(iParam7==235) return;
if(iParam8==235) return;
for (i=0;
i < Global_113648.f_20412.f_145;
i=i + 1){
if(MISC::ARE_STRINGS_EQUAL(&Global_113648.f_20412[i /*16*/], sParam0)) return;
}
if(Global_113648.f_20412.f_145 < 9){
TEXT_LABEL_ASSIGN_STRING(&Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/], sParam0, 16);
TEXT_LABEL_ASSIGN_STRING(&(Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_4), sParam1, 16);
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_8=MISC::GET_GAME_TIMER() + iParam3;
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_9=iParam5;
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_11=iParam6;
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_12=iParam2;
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_13=iParam7;
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_14=iParam8;
Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_15=iParam9;
if(iParam4 !=-1) Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_10=MISC::GET_GAME_TIMER() + iParam3 + iParam4;
else Global_113648.f_20412[Global_113648.f_20412.f_145 /*16*/].f_10=-1;
Global_113648.f_20412.f_145=Global_113648.f_20412.f_145 + 1;
func_22();
}
return;
}


void func_22() // Position - 0xF2C{
int i;
for (i=0;
i < 3;
i=i + 1){
Global_113648.f_20412.f_146[i]=0;
}
for (i=0;
i < Global_113648.f_20412.f_145;
i=i + 1){
if(IS_BIT_SET(Global_113648.f_20412[i /*16*/].f_11, 0))if(Global_113648.f_20412[i /*16*/].f_12 > Global_113648.f_20412.f_146[0]) Global_113648.f_20412.f_146[0]=Global_113648.f_20412[i /*16*/].f_12;
if(IS_BIT_SET(Global_113648.f_20412[i /*16*/].f_11, 1))if(Global_113648.f_20412[i /*16*/].f_12 > Global_113648.f_20412.f_146[1]) Global_113648.f_20412.f_146[1]=Global_113648.f_20412[i /*16*/].f_12;
if(IS_BIT_SET(Global_113648.f_20412[i /*16*/].f_11, 2))if(Global_113648.f_20412[i /*16*/].f_12 > Global_113648.f_20412.f_146[2]) Global_113648.f_20412.f_146[2]=Global_113648.f_20412[i /*16*/].f_12;
}
return;
}


Vector3 func__23(int iParam0) // Position - 0x1043{
switch (iParam0){
case 0:
return -1036.73f, 6735.72f, -100.52f;
case 1:
return -908.86f, 6655.98f, -34.35f;
case 2:
return -985.14f, 6697.71f, -41.57f;
case 3:
return 1825.73f, -2920.67f, -36.82f;
case 4:
return 1772.11f, -2967.72f, -46.81f;
case 5:
return 3198.59f, -385.05f, -31.49f;
case 6:
return 3170.43f, -302.21f, -25.99f;
case 7:
return 3157.44f, -268.54f, -28.07f;
case 8:
return -3180.2f, 3010.9f, -37.6f;
case 9:
return -3178.3f, 3044.86f, -39.96f;
case 10:
return 910.48f, -3471.21f, -17.57f;
case 11:
return 1338.76f, -3041.59f, -19.23f;
case 12:
return 1153.38f, -2864.51f, -18.96f;
case 13:
return 958.56f, -2847.78f, -22.05f;
case 14:
return 782.28f, -2872.81f, -9.577f;
case 15:
return 581.28f, -2471.5f, -9.44f;
case 16:
return 636.56f, -2214.49f, -7.87f;
case 17:
return 371.06f, -3226.67f, -19.6f;
case 18:
return 689.69f, -3451.07f, -27.85f;
case 19:
return 180.17f, -2255.91f, -2.54f;
case 20:
return -691.64f, -2836.86f, -15.67f;
case 21:
return -3397.5f, 3717.52f, -86.14f;
case 22:
return -3357.11f, 3710.79f, -96.14f;
case 23:
return -3282.21f, 3682.6f, -82.87f;
case 24:
return -3256.66f, 3672.29f, -35.06f;
case 25:
return -3142.19f, 3625.95f, -26.31f;
case 26:
return 3271.34f, 6420.78f, -50.78f;
case 27:
return 3237.83f, 6487.44f, -43.9f;
case 28:
return 1772.1f, -2997.12f, -50.44f;
case 29:
return 3207f, -415.17f, -32.01f;
}
return 0f, 0f, 0f;
}
BOOL func_24(var uParam0, var uParam1, Vector3 vParam2, var uParam3, var uParam4, var uParam5) // Position - 0x137F{
int i;
float num;
float num2;
i=0;
num=0f;
num2=-1f;
for (i=0;
i < *uParam1;
i=i + 1){
if(!func_52(&(uParam0->f_1), i)){
num=SYSTEM::VDIST2(vParam2, uParam1->[i /*11*/].f_3);
if(num2==-1f || num < num2){
*uParam5=i;
num2=num;
}}}
return *uParam5 !=-1;
}
BOOL func_25(int iParam0) // Position - 0x13E6{
int num;
int i;
num=iParam0;
for (i=0;
num > 31;
i=i + 1){
num=num - 32;
}
if(i < 3) return IS_BIT_SET(Global_113648.f_20412.f_150[i], num);
return false;
}


void func_26(var uParam0, var uParam1, var uParam2, int iParam3, var uParam4, int* piParam5, char* sParam6, char* sParam7) // Position - 0x1426{
int soundId;
func_33(0);
if(*uParam0){
switch (*uParam4){
case 0:
*piParam5=GRAPHICS::REQUEST_SCALEFORM_MOVIE("MIDSIZED_MESSAGE");
if(GRAPHICS::HAS_SCALEFORM_MOVIE_LOADED(*piParam5)){
soundId=AUDIO::GET_SOUND_ID();
if(iParam3==6) AUDIO::PLAY_SOUND_FRONTEND(soundId, "PEYOTE_COMPLETED", "HUD_AWARDS", true);
else AUDIO::PLAY_SOUND_FRONTEND(soundId, "COLLECTED", "HUD_AWARDS", true);
*uParam4=*uParam4 + 1;
}
break;
case 1:
NETWORK::NETWORK_LEAVE_PED_BEHIND_BEFORE_CUTSCENE(*piParam5, "SHOW_SHARD_MIDSIZED_MESSAGE");
GRAPHICS::BEGIN_TEXT_COMMAND_SCALEFORM_STRING(sParam6);
GRAPHICS::END_TEXT_COMMAND_SCALEFORM_STRING();
GRAPHICS::BEGIN_TEXT_COMMAND_SCALEFORM_STRING(sParam7);
HUD::ADD_TEXT_COMPONENT_INTEGER(func_28(iParam3));
GRAPHICS::END_TEXT_COMMAND_SCALEFORM_STRING();
GRAPHICS::END_SCALEFORM_MOVIE_METHOD();
*uParam2=MISC::GET_GAME_TIMER();
*uParam4=*uParam4 + 1;
break;
case 2:
if(MISC::GET_GAME_TIMER() - *uParam2 > 7000){
NETWORK::NETWORK_LEAVE_PED_BEHIND_BEFORE_CUTSCENE(*piParam5, "SHARD_ANIM_OUT");
GRAPHICS::SCALEFORM_MOVIE_METHOD_ADD_PARAM_INT(1);
GRAPHICS::SCALEFORM_MOVIE_METHOD_ADD_PARAM_FLOAT(0.33f);
GRAPHICS::END_SCALEFORM_MOVIE_METHOD();
*uParam4=*uParam4 + 1;
}elseif(!func_27()){
if(GRAPHICS::HAS_SCALEFORM_MOVIE_LOADED(*piParam5)){
func_33(1);
GRAPHICS::DRAW_SCALEFORM_MOVIE_FULLSCREEN(*piParam5, 100, 100, 100, 255, 0);
}}
break;
case 3:
if(MISC::GET_GAME_TIMER() - *uParam2 > 7500){
*uParam4=*uParam4 + 1;
}elseif(!func_27()){
if(GRAPHICS::HAS_SCALEFORM_MOVIE_LOADED(*piParam5)){
func_33(1);
GRAPHICS::DRAW_SCALEFORM_MOVIE_FULLSCREEN(*piParam5, 100, 100, 100, 255, 0);
}}
break;
case 4:
if(GRAPHICS::HAS_SCALEFORM_MOVIE_LOADED(*piParam5)) GRAPHICS::SET_SCALEFORM_MOVIE_AS_NO_LONGER_NEEDED(piParam5);
func_33(0);
*uParam1=0;
*uParam0=0;
*uParam4=0;
break;
}}
return;
}
BOOL func_27() // Position - 0x15A9{
if(Global_78819) return true;
elseif(Global_63356 && !Global_63362) return true;
return false;
}

int func_28(int iParam0) // Position - 0x15D3{
int outValue;
int i;
int num;
outValue=0;
i=0;
if(iParam0==2){
for (i=0;
i < func_32(iParam0);
i=i + 1){
if(IS_BIT_SET(Global_113648.f_10051.f_108, func_31(func_32(iParam0), i))) outValue=outValue + 1;
}}elseif(iParam0==6){
STATS::STAT_GET_INT(joaat("NUM_HIDDEN_PACKAGES_5"), &outValue, -1);
}elseif(iParam0==7){
STATS::STAT_GET_INT(joaat("NUM_HIDDEN_PACKAGES_7"), &outValue, -1);
}elseif(iParam0==8){
STATS::STAT_GET_INT(joaat("NUM_HIDDEN_PACKAGES_6"), &outValue, -1);
}else{
for (i=0;
i < func_32(iParam0);
i=i + 1){
num=func_30(iParam0) + i;
if(func_29(num, -1)) outValue=outValue + 1;
}}
return outValue;
}
BOOL func_29(int iParam0, int iParam1) // Position - 0x1697{
if(iParam1==-1) iParam1=func_14();
return unk_0xD03506C6E58E4E95(iParam0, iParam1);
}

int func_30(int iParam0) // Position - 0x16B3{
if(iParam0==3) return 815;
if(iParam0==5) return 845;
if(iParam0==1) return 705;
if(iParam0==0) return 755;
return 805;
}

int func_31(int iParam0, int iParam1) // Position - 0x16FA{
if(iParam1 < 32) return iParam1;
return iParam0 - iParam1;
}

int func_32(int iParam0) // Position - 0x1716{
if(iParam0==3) return 30;
if(iParam0==1) return 50;
if(iParam0==0) return 50;
if(iParam0==4) return 10;
if(iParam0==5) return 30;
return 15;
}


void func_33(int iParam0) // Position - 0x1766{
if(Global_78826 !=iParam0) Global_78826=iParam0;
return;
}

int func_34(var uParam0, var uParam1, Vector3 vParam2, var uParam3, var uParam4) // Position - 0x1780{
int num;
num=uParam0->f_10;
if(uParam1->[num /*11*/].f_10){
if(uParam1->[num /*11*/].f_1 !=0){
if(OBJECT::HAS_PICKUP_BEEN_COLLECTED(uParam1->[num /*11*/].f_1) || func_47(uParam1->[num /*11*/].f_1)){
func_37(uParam0, uParam1, num);
return 1;
}}}
if(OBJECT::DOES_PICKUP_EXIST(uParam1->[num /*11*/].f_1)){
if(SYSTEM::VDIST2(vParam2, OBJECT::GET_PICKUP_COORDS(uParam1->[num /*11*/].f_1)) > 60f * 60f || func_36(13) || func_36(14)){
func_35(&(uParam1->[num /*11*/].f_1));
uParam1->[num /*11*/].f_1=0;
uParam1->[num /*11*/].f_10=0;
}}
return 0;
}


void func_35(var uParam0) // Position - 0x183D{
if(OBJECT::DOES_PICKUP_EXIST(*uParam0)) OBJECT::REMOVE_PICKUP(*uParam0);
return;
}
BOOL func_36(int iParam0) // Position - 0x1856{
return Global_43257==iParam0;
}


void func_37(var uParam0, var uParam1, int iParam2) // Position - 0x1864{
int num;
num=func_30(*uParam0) + iParam2;
func_35(&(uParam1->[iParam2 /*11*/].f_1));
func_46(&(uParam1->[iParam2 /*11*/].f_2));
uParam1->[iParam2 /*11*/].f_1=0;
uParam1->[iParam2 /*11*/].f_10=0;
func_45(&(uParam0->f_1), iParam2, true);
if(*uParam0==1 || *uParam0==0) func_44(*uParam0, iParam2, true);
PAD::SET_CONTROL_SHAKE(PLAYER_CONTROL, 200, 250);
STATS::STAT_INCREMENT(uParam0->f_6, 1f);
if(bLocal_41) func_43(&(uParam0->f_1), iParam2);
else func_41(&(uParam0->f_1));
func_39();
STATS::PLAYSTATS_ACQUIRED_HIDDEN_PACKAGE(num);
func_38(1, 0);
func_10();
uParam0->f_11=1;
return;
}


void func_38(int iParam0, int iParam1) // Position - 0x190F{
Global_100720.f_7=iParam0;
Global_100720.f_8=iParam1;
return;
}


void func_39() // Position - 0x1927{
int outValue;
int num;
int num2;
int value;
value=0;
STATS::STAT_GET_INT(func_40(0), &outValue, -1);
num=num + outValue;
if(outValue > 0) func_12(18, outValue);
STATS::STAT_GET_INT(func_40(1), &outValue, -1);
num=num + outValue;
if(outValue > 0) func_12(19, outValue);
STATS::STAT_GET_INT(func_40(3), &outValue, -1);
num=num + outValue;
if(outValue > 0) func_12(20, outValue);
num2=func_32(0) + func_32(1) + func_32(3);
if(num2 > 0) value=(num * 100) / num2;
STATS::STAT_SET_INT(joaat("PERCENT_HIDDEN_PACKAGES"), value, true);
return;
}
Hash func_40(int iParam0) // Position - 0x19CA{
if(iParam0==3) return joaat("NUM_HIDDEN_PACKAGES_3");
if(iParam0==1) return joaat("NUM_HIDDEN_PACKAGES_0");
if(iParam0==0) return joaat("NUM_HIDDEN_PACKAGES_1");
if(iParam0==5) return joaat("NUM_HIDDEN_PACKAGES_4");
return joaat("NUM_HIDDEN_PACKAGES_2");
}


void func_41(var uParam0) // Position - 0x1A1B{
int i;
int num;
num=0;
uParam0->f_3 <=0;
uParam0->f_2 <=0;
bLocal_40;
for (i=0;
i < uParam0->f_3;
i=i + 1){
if(func_52(uParam0, i)){
num=num + 1;
_STAT_SET_PACKED_BOOL(uParam0->f_2 + i, 1, -1);
bLocal_40;
}}
uParam0->f_4=num;
bLocal_40;
if(num==uParam0->f_3 && uParam0->f_2==705) func_42(168, 0);
return;
}


void func_42(int iParam0, int iParam1) // Position - 0x1A9C{
if(iParam0==235 || iParam0==0) return;
Global_113648.f_8615[iParam0]=1;
Global_113648.f_8615.f_236[iParam0]=MISC::GET_GAME_TIMER() + iParam1;
return;
}


void func_43(var uParam0, int iParam1) // Position - 0x1AD9{
uParam0->f_3 <=0;
uParam0->f_2 <=0;
bLocal_40;
iParam1 >=uParam0->f_3;
if(func_52(uParam0, iParam1)){
uParam0->f_4=uParam0->f_4 + 1;
_STAT_SET_PACKED_BOOL(uParam0->f_2 + iParam1, 1, -1);
bLocal_40;
}
bLocal_40;
if(uParam0->f_4==uParam0->f_3 && uParam0->f_2==705) func_42(168, 0);
return;
}


void func_44(int iParam0, int iParam1, BOOL bParam2) // Position - 0x1B4B{
if(iParam1 < 0 || iParam1 >=64) return;
if(iParam0==1){
if(iParam1 <=31){
if(bParam2) MISC::SET_BIT(&(Global_113648.f_10051.f_122), iParam1);
else MISC::CLEAR_BIT(&(Global_113648.f_10051.f_122), iParam1);
return;
}
if(bParam2) MISC::SET_BIT(&(Global_113648.f_10051.f_122.f_1), iParam1 - 32);
else MISC::CLEAR_BIT(&(Global_113648.f_10051.f_122.f_1), iParam1 - 32);
}elseif(iParam0==0){
if(iParam1 <=31){
if(bParam2) MISC::SET_BIT(&(Global_113648.f_10051.f_125), iParam1);
else MISC::CLEAR_BIT(&(Global_113648.f_10051.f_125), iParam1);
return;
}
if(bParam2) MISC::SET_BIT(&(Global_113648.f_10051.f_125.f_1), iParam1 - 32);
else MISC::CLEAR_BIT(&(Global_113648.f_10051.f_125.f_1), iParam1 - 32);
}
return;
}


void func_45(int* piParam0, int iParam1, BOOL bParam2) // Position - 0x1C37{
if(iParam1 < 0 || iParam1 >=64) return;
if(iParam1 <=31){
if(bParam2) MISC::SET_BIT(piParam0, iParam1);
else MISC::CLEAR_BIT(piParam0, iParam1);
return;
}
if(bParam2) MISC::SET_BIT(&(piParam0->f_1), iParam1 - 32);
else MISC::CLEAR_BIT(&(piParam0->f_1), iParam1 - 32);
return;
}


void func_46(Blip* pblParam0) // Position - 0x1C98{
if(HUD::DOES_BLIP_EXIST(*pblParam0)){
HUD::SET_BLIP_ROUTE(*pblParam0, false);
HUD::REMOVE_BLIP(pblParam0);
}
return;
}
BOOL func_47(Pickup pkParam0) // Position - 0x1CB8{
Vehicle vehiclePedIsIn;
Hash entityModel;
if(!OBJECT::DOES_PICKUP_EXIST(pkParam0)) return false;
if(_DOES_ENTITY_EXIST_AND_IS_ALIVE(PLAYER::PLAYER_PED_ID())){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
entityModel=ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn);
if(entityModel==joaat("submersible") || entityModel==joaat("submersible2"))if(SYSTEM::VDIST2(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), OBJECT::GET_PICKUP_COORDS(pkParam0)) < 5f * 5f || ENTITY::IS_ENTITY_TOUCHING_ENTITY(PLAYER::PLAYER_PED_ID(), OBJECT::GET_PICKUP_OBJECT(pkParam0))) return true;
}}
return false;
}
BOOL _DOES_ENTITY_EXIST_AND_IS_ALIVE(Vehicle veParam0) // Position - 0x1D44{
if(ENTITY::DOES_ENTITY_EXIST(veParam0))if(!ENTITY::IS_ENTITY_DEAD(veParam0, false)) return true;
return false;
}


void func_49(var uParam0, Hash hParam1, Hash hParam2, BOOL bParam3, BOOL bParam4, int iParam5) // Position - 0x1D65{
int address;
if(!uParam0->f_10){
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())){
if(!func_36(13) && !func_36(14)){
if(!OBJECT::DOES_PICKUP_EXIST(uParam0->f_1)){
if(SYSTEM::VDIST2(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), uParam0->f_3) <=50f * 50f){
STREAMING::REQUEST_MODEL(hParam1);
while (!STREAMING::HAS_MODEL_LOADED(hParam1)){
STREAMING::REQUEST_MODEL(hParam1);
SYSTEM::WAIT(0);
}
if(bParam3) func_50(uParam0->f_3);
MISC::CLEAR_AREA(uParam0->f_3, 2.5f, false, false, false, false);
if(bParam4){
MISC::SET_BIT(&address, 1);
uParam0->f_1=OBJECT::CREATE_PICKUP_ROTATE(joaat("PICKUP_CUSTOM_SCRIPT"), uParam0->f_3, uParam0->f_6, address, -1, iParam5, true, hParam1);
}
else{
MISC::SET_BIT(&address, 3);
MISC::SET_BIT(&address, 4);
MISC::SET_BIT(&address, 8);
MISC::SET_BIT(&address, 1);
uParam0->f_1=OBJECT::CREATE_PICKUP(hParam2, uParam0->f_3, address, -1, true, hParam1);
}
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hParam1);
}}}
if(OBJECT::DOES_PICKUP_EXIST(uParam0->f_1)) uParam0->f_10=1;
}}
return;
}


void func_50(Vector3 vParam0, var uParam1, var uParam2) // Position - 0x1E7E{
Interior interiorAtCoords;
interiorAtCoords=INTERIOR::GET_INTERIOR_AT_COORDS(vParam0);
if(INTERIOR::IS_VALID_INTERIOR(interiorAtCoords)){
INTERIOR::PIN_INTERIOR_IN_MEMORY(interiorAtCoords);
while (!INTERIOR::IS_INTERIOR_READY(interiorAtCoords)){
SYSTEM::WAIT(0);
}
SYSTEM::WAIT(0);
INTERIOR::UNPIN_INTERIOR(interiorAtCoords);
}
return;
}
BOOL func_51(float fParam0, var uParam1, var uParam2, float fParam3, float fParam4, float fParam5, BOOL bParam6) // Position - 0x1EBC{
if(bParam6) return fParam0==fParam3 && fParam0.f_1==fParam3.f_1;
return fParam0==fParam3 && fParam0.f_1==fParam3.f_1 && fParam0.f_2==fParam3.f_2;
}
BOOL func_52(var uParam0, int iParam1) // Position - 0x1F03{
if(iParam1 < 0 || iParam1 >=64) return false;
if(iParam1 <=31) return IS_BIT_SET(*uParam0, iParam1);
return IS_BIT_SET(uParam0->f_1, iParam1 - 32);
}


void func_53() // Position - 0x1F3B{
float num;
switch (iLocal_411){
case 0:
if(func_60()){
if(_DOES_ENTITY_EXIST_AND_IS_ALIVE(veLocal_409)){
func_59();
VEHICLE::SET_BOAT_ANCHOR(veLocal_409, false);
iLocal_411=1;
if(iLocal_386==2) func_2(3);
}}elseif(_DOES_ENTITY_EXIST_AND_IS_ALIVE(veLocal_409) && _DOES_ENTITY_EXIST_AND_IS_ALIVE(PLAYER::PLAYER_PED_ID())){
if(ENTITY::IS_ENTITY_IN_WATER(PLAYER::PLAYER_PED_ID())) num=500f;
else num=250f;
if(func_58(PLAYER::PLAYER_PED_ID(), veLocal_409, false) > num){
func_57();
if(iLocal_386==2) func_2(3);
}}else{
func_59();
if(iLocal_386==2) func_2(3);
}
break;
case 1:
if(iLocal_386==2) func_2(3);
if(!func_60()){
if(_DOES_ENTITY_EXIST_AND_IS_ALIVE(veLocal_409)){
if(!HUD::DOES_BLIP_EXIST(blLocal_410)) blLocal_410=func_54(veLocal_409, false, false);
VEHICLE::SET_VEHICLE_ENGINE_ON(veLocal_409, false, true, false);
if(VEHICLE::IS_THIS_MODEL_A_BOAT(ENTITY::GET_ENTITY_MODEL(veLocal_409)))if(!ENTITY::HAS_ENTITY_COLLIDED_WITH_ANYTHING(veLocal_409)) VEHICLE::SET_BOAT_ANCHOR(veLocal_409, true);
iLocal_411=0;
}}
break;
}
return;
}
Blip func_54(Vehicle veParam0, BOOL bParam1, BOOL bParam2) // Position - 0x205C{
return func_55(veParam0, !bParam1, bParam2);
}
Blip func_55(Vehicle veParam0, BOOL bParam1, BOOL bParam2) // Position - 0x206F{
Blip blip;
if(!ENTITY::DOES_ENTITY_EXIST(veParam0)) return 0;
blip=HUD::ADD_BLIP_FOR_ENTITY(veParam0);
if(ENTITY::IS_ENTITY_A_VEHICLE(veParam0)){
HUD::SET_BLIP_SCALE(blip, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 1f :
1f);
if(!bParam2) HUD::SET_BLIP_AS_FRIENDLY(blip, bParam1);
else HUD::SET_BLIP_COLOUR(blip, 2);
}elseif(ENTITY::IS_ENTITY_A_PED(veParam0)){
HUD::SET_BLIP_SCALE(blip, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 0.7f :
0.7f);
HUD::SET_BLIP_AS_FRIENDLY(blip, bParam1);
}elseif(ENTITY::IS_ENTITY_AN_OBJECT(veParam0)){
HUD::SET_BLIP_SCALE(blip, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 0.7f :
0.7f);
}
return blip;
}


var func__56(BOOL bParam0, var uParam1, var uParam2) // Position - 0x2113{
if(bParam0) return uParam1;
return uParam2;
}


void func_57() // Position - 0x212A{
func_59();
if(_DOES_ENTITY_EXIST_AND_IS_ALIVE(veLocal_409)){
if(VEHICLE::IS_THIS_MODEL_A_BOAT(ENTITY::GET_ENTITY_MODEL(veLocal_409))) VEHICLE::SET_BOAT_ANCHOR(veLocal_409, false);
ENTITY::SET_ENTITY_RECORDS_COLLISIONS(veLocal_409, false);
if(ENTITY::IS_ENTITY_A_MISSION_ENTITY(veLocal_409)) ENTITY::SET_VEHICLE_AS_NO_LONGER_NEEDED(&veLocal_409);
}
return;
}


float func_58(Ped pedParam0, Vehicle veParam1, BOOL bParam2) // Position - 0x216F{
Vector3 entityCoords;
Vector3 entityCoords2;
if(!ENTITY::IS_ENTITY_DEAD(pedParam0, false)) entityCoords={
ENTITY::GET_ENTITY_COORDS(pedParam0, true) 
};
else entityCoords={
ENTITY::GET_ENTITY_COORDS(pedParam0, false) 
};
if(!ENTITY::IS_ENTITY_DEAD(veParam1, false)) entityCoords2={
ENTITY::GET_ENTITY_COORDS(veParam1, true) 
};
else entityCoords2={
ENTITY::GET_ENTITY_COORDS(veParam1, false) 
};
return MISC::GET_DISTANCE_BETWEEN_COORDS(entityCoords, entityCoords2, bParam2);
}


void func_59() // Position - 0x21CD{
if(HUD::DOES_BLIP_EXIST(blLocal_410)) HUD::REMOVE_BLIP(&blLocal_410);
return;
}
BOOL func_60() // Position - 0x21E6{
if(_DOES_ENTITY_EXIST_AND_IS_ALIVE(PLAYER::PLAYER_PED_ID())){
if(_DOES_ENTITY_EXIST_AND_IS_ALIVE(veLocal_409)){
if(PED::IS_PED_IN_VEHICLE(PLAYER::PLAYER_PED_ID(), veLocal_409, false)) return true;
}elseif(func_61()){
veLocal_409=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(ENTITY::DOES_ENTITY_EXIST(veLocal_409)){
ENTITY::SET_ENTITY_AS_MISSION_ENTITY(veLocal_409, true, true);
ENTITY::SET_ENTITY_RECORDS_COLLISIONS(veLocal_409, true);
return true;
}}}
return false;
}
BOOL func_61() // Position - 0x224C{
Vehicle vehiclePedIsIn;
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(ENTITY::DOES_ENTITY_EXIST(vehiclePedIsIn))if(ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn)==joaat("dinghy") || ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn)==joaat("dinghy2")) return true;
else return false;
}
return false;
}


void func_62() // Position - 0x22A1{
Vector3 entityCoords;
Vector3 vector;
float distanceBetweenCoords;
int i;
entityCoords={
ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true) 
};
if(func_24(&uLocal_42, &iLocal_55, entityCoords, &iLocal_388)){
vector={
func_23(iLocal_388) 
};
distanceBetweenCoords=MISC::GET_DISTANCE_BETWEEN_COORDS(vector, entityCoords, false);
if(distanceBetweenCoords > 200f){
func_64();
if(!bLocal_406) bLocal_406=true;
if(func_61()){
if(!func_25(41)){
func_20("DIVING_HELP1" /*The nearest area where submarine pieces can be found is marked on the map when driving the Dinghy.*/, 1, 0, -1, 10000, 7, 0, 0, 0);
func_19(41);
}
if(iLocal_388 !=iLocal_391)if(HUD::DOES_BLIP_EXIST(blLocal_390)) HUD::REMOVE_BLIP(&blLocal_390);
if(!HUD::DOES_BLIP_EXIST(blLocal_390)){
blLocal_390=HUD::ADD_BLIP_FOR_RADIUS(vector, 200f);
HUD::SET_BLIP_ALPHA(blLocal_390, 128);
HUD::SET_BLIP_COLOUR(blLocal_390, 2);
HUD::SET_BLIP_HIDDEN_ON_LEGEND(blLocal_390, false);
HUD::SET_BLIP_NAME_FROM_TEXT_FILE(blLocal_390, "B_WRE" /*Wreckage Site*/);
HUD::SHOW_HEIGHT_ON_BLIP(blLocal_390, false);
iLocal_391=iLocal_388;
}}elseif(HUD::DOES_BLIP_EXIST(blLocal_390)){
HUD::REMOVE_BLIP(&blLocal_390);
}}else{
if(func_61()){
if(!func_25(42)){
func_20("DIVING_HELP2" /*When inside the green marker areas, your sonar will be in range and you can use it to to help locate the missing submarine pieces.*/, 1, 0, -1, 10000, 7, 0, 0, 0);
func_19(42);
}}
if(func_25(42)){
if(!func_25(43)){
if(ENTITY::IS_ENTITY_IN_WATER(PLAYER::PLAYER_PED_ID()) && !PED::IS_PED_SWIMMING_UNDER_WATER(PLAYER::PLAYER_PED_ID())){
func_20("DIVING_HELP3" /*Dive underwater to search for the submarine pieces.*/, 1, 2000, -1, 10000, 7, 0, 0, 0);
func_19(43);
}}}
if(HUD::DOES_BLIP_EXIST(blLocal_390)) HUD::REMOVE_BLIP(&blLocal_390);
if(iLocal_388 !=iLocal_391){
func_64();
iLocal_391=iLocal_388;
bLocal_406=true;
}
if(uLocal_42.f_1.f_4 < uLocal_42.f_1.f_3){
if(bLocal_406){
fLocal_403=0f;
fLocal_404=distanceBetweenCoords;
if(func_61()) fLocal_404=func_63(fLocal_404, 20f, 200f);
else fLocal_404=func_63(fLocal_404, 10f, 200f);
fLocal_405=fLocal_404 * 0.025f;
bLocal_406=false;
if(func_61()) AUDIO::PLAY_SOUND_FROM_COORD(iLocal_408, "SINGLE_BLIP_FROM_BOAT", vector, "ABIGAIL_SONAR_SOUNDSET", false, 0, false);
else AUDIO::PLAY_SOUND_FROM_COORD(iLocal_408, "SCRIPT_TRIGGERED_FROM_PROP", entityCoords, "ABIGAIL_SONAR_SOUNDSET", false, 0, false);
}else{
fLocal_403=fLocal_403 + fLocal_405;
fLocal_403=func_63(fLocal_403, 0f, fLocal_404);
if(!HUD::DOES_BLIP_EXIST(blLocal_392)){
blLocal_392=HUD::ADD_BLIP_FOR_RADIUS(vector, fLocal_403);
HUD::SET_BLIP_ALPHA(blLocal_392, 255);
HUD::SET_BLIP_COLOUR(blLocal_392, 4);
HUD::SET_BLIP_AS_SHORT_RANGE(blLocal_392, true);
HUD::SET_RADIUS_BLIP_EDGE(blLocal_392, true);
HUD::SHOW_HEIGHT_ON_BLIP(blLocal_392, false);
}else{
HUD::SET_BLIP_SCALE(blLocal_392, fLocal_403);
}
i=0;
if(func_61()){
for (i=0;
i <=3;
i=i + 1){
if(!HUD::DOES_BLIP_EXIST(uLocal_393[i])){
uLocal_393[i]=HUD::ADD_BLIP_FOR_RADIUS(vector, fLocal_403 + uLocal_398[i]);
HUD::SET_BLIP_ALPHA(uLocal_393[i], 255);
HUD::SET_BLIP_COLOUR(uLocal_393[i], 4);
HUD::SET_BLIP_AS_SHORT_RANGE(uLocal_393[i], true);
HUD::SET_RADIUS_BLIP_EDGE(uLocal_393[i], true);
HUD::SHOW_HEIGHT_ON_BLIP(uLocal_393[i], false);
}else{
HUD::SET_BLIP_SCALE(uLocal_393[i], fLocal_403 + uLocal_398[i]);
}
}}else{
for (i=0;
i <=3;
i=i + 1){
if(HUD::DOES_BLIP_EXIST(uLocal_393[i])) HUD::SET_BLIP_SCALE(uLocal_393[i], fLocal_403);
}}
if(fLocal_403 >=fLocal_404) bLocal_406=true;
}}else{
func_64();
}}}
return;
}


float func_63(float fParam0, float fParam1, float fParam2) // Position - 0x2613{
if(fParam0 > fParam2) return fParam2;
elseif(fParam0 < fParam1) return fParam1;
return fParam0;
}


void func_64() // Position - 0x263A{
int i;
if(HUD::DOES_BLIP_EXIST(blLocal_392)) HUD::REMOVE_BLIP(&blLocal_392);
for (i=0;
i <=3;
i=i + 1){
if(HUD::DOES_BLIP_EXIST(uLocal_393[i])) HUD::REMOVE_BLIP(&uLocal_393[i]);
}
return;
}


void func_65() // Position - 0x267E{
iLocal_389=0;
if(func_60()) iLocal_411=1;
else iLocal_411=0;
func_69();
func_68(&uLocal_42, 5, joaat("prop_sub_chunk_01"), "DIVING_COLLECT" /*~1~/30 submarine pieces collected.*/);
func_66(&uLocal_42, joaat("NUM_HIDDEN_PACKAGES_4"), 845, 30);
func_2(1);
uLocal_398[0]=0.25f;
uLocal_398[1]=0.5f;
uLocal_398[2]=0.75f;
uLocal_398[3]=1f;
return;
}


void func_66(var uParam0, int iParam1, int iParam2, int iParam3) // Position - 0x26EC{
uParam0->f_6=iParam1;
func_67(&(uParam0->f_1), iParam2, iParam3);
return;
}


void func_67(int* piParam0, int iParam1, int iParam2) // Position - 0x2706{
int i;
int num;
num=0;
*piParam0=0;
piParam0->f_1=0;
piParam0->f_2=iParam1;
piParam0->f_3=iParam2;
bLocal_40;
for (i=0;
i < piParam0->f_3;
i=i + 1){
if(func_29(piParam0->f_2 + i, -1)){
num=num + 1;
func_45(piParam0, i, true);
bLocal_40;
}}
piParam0->f_4=num;
bLocal_40;
return;
}


void func_68(var uParam0, int iParam1, int iParam2, char* sParam3) // Position - 0x276E{
*uParam0=iParam1;
uParam0->f_7=iParam2;
uParam0->f_8=sParam3;
uParam0->f_10=0;
return;
}


void func_69() // Position - 0x278C{
int i;
for (i=0;
i < 30;
i=i + 1){
iLocal_55[i /*11*/].f_3={
func_23(i) 
};
iLocal_55[i /*11*/].f_10=0;
}
iLocal_55[0 /*11*/].f_6={
-16.4f, 78.53f, -146.67f 
};
iLocal_55[1 /*11*/].f_6={
0f, 45f, 10f 
};
iLocal_55[2 /*11*/].f_6={
0.72f, 65.2f, -50.26f 
};
iLocal_55[3 /*11*/].f_6={
0f, 15f, -132.16f 
};
iLocal_55[4 /*11*/].f_6={
166.37f, -40f, 168.81f 
};
iLocal_55[5 /*11*/].f_6={
90f, 56.2f, 90f 
};
iLocal_55[6 /*11*/].f_6={
-20f, 0f, 89.95f 
};
iLocal_55[7 /*11*/].f_6={
4.08f, 54.9f, -65.35f 
};
iLocal_55[8 /*11*/].f_6={
174.15f, -58.2f, -144.66f 
};
iLocal_55[9 /*11*/].f_6={
-28.22f, 36.11f, -90.22f 
};
iLocal_55[10 /*11*/].f_6={
-5f, 44f, 65f 
};
iLocal_55[11 /*11*/].f_6={
0f, -108f, 45.36f 
};
iLocal_55[12 /*11*/].f_6={
-10.9f, 43.12f, 131.52f 
};
iLocal_55[13 /*11*/].f_6={
12.37f, 49.66f, 126.88f 
};
iLocal_55[14 /*11*/].f_6={
4.35f, 10.22f, 27.51f 
};
iLocal_55[15 /*11*/].f_6={
0f, 10f, 60.73f 
};
iLocal_55[16 /*11*/].f_6={
150.56f, -78.67f, -174.35f 
};
iLocal_55[17 /*11*/].f_6={
0f, 50f, 46.41f 
};
iLocal_55[18 /*11*/].f_6={
6.26f, 44.65f, 8.88f 
};
iLocal_55[19 /*11*/].f_6={
90f, 78.5f, 16.04f 
};
iLocal_55[20 /*11*/].f_6={
-1.36f, 6.53f, -70.94f 
};
iLocal_55[21 /*11*/].f_6={
-61.86f, 78.61f, 126.5f 
};
iLocal_55[22 /*11*/].f_6={
-10f, -80.71f, 69.7f 
};
iLocal_55[23 /*11*/].f_6={
-76.43f, -70.02f, 29.74f 
};
iLocal_55[24 /*11*/].f_6={
-28f, -70f, 107.53f 
};
iLocal_55[25 /*11*/].f_6={
4.19f, 6.46f, 110.43f 
};
iLocal_55[26 /*11*/].f_6={
-3.19f, 60.6f, 25f 
};
iLocal_55[27 /*11*/].f_6={
0f, -81.68f, -20.16f 
};
iLocal_55[28 /*11*/].f_6={
7.39f, 44.52f, 19.65f 
};
iLocal_55[29 /*11*/].f_6={
89.74f, 80.95f, 151.74f 
};
return;
}
BOOL func_70(Ped pedParam0) // Position - 0x2A8A{
if(!ENTITY::DOES_ENTITY_EXIST(pedParam0)) return false;
return !ENTITY::IS_ENTITY_DEAD(pedParam0, false);
}
BOOL func_71(int iParam0) // Position - 0x2AA8{
if(Global_43257==15) return false;
if(_CAN_ENTER_FREEROAM_STATE(iParam0)) return false;
return true;
}
BOOL _CAN_ENTER_FREEROAM_STATE(int iParam0) // Position - 0x2ACA{
return func_73(iParam0, Global_43257);
}
BOOL func_73(int iParam0, int iParam1) // Position - 0x2ADB{
if(iParam1==15) return 1;
if(iParam0==15) return 0;
switch (iParam0){
case 16:
switch (iParam1){
case 9:
case 10:
case 7:
case 13:
case 14:
return 0;
}
return 1;
case 0:
switch (iParam1){
case 5:
case 17:
return 1;
}
break;
case 2:
case 3:
switch (iParam1){
case 5:
case 6:
case 8:
case 17:
return 1;
}
break;
case 4:
if(iParam1==17) return 1;
break;
case 5:
break;
case 6:
case 8:
if(iParam1==5) return 1;
break;
case 7:
if(iParam1==6) return 1;
break;
case 9:
if(iParam1==5) return 1;
break;
case 10:
switch (iParam1){
case 5:
case 6:
case 17:
return 1;
}
break;
case 11:
if(iParam1==5) return 1;
break;
case 17:
switch (iParam1){
case 17:
case 12:
case 5:
return 1;
}
break;
case 18:
case 12:
switch (iParam1){
case 5:
case 6:
case 8:
return 1;
}
break;
case 13:
switch (iParam1){
case 5:
return 1;
}
break;
case 14:
switch (iParam1){
case 5:
return 1;
}
break;
}
return 0;
}

int func_74(int iParam0) // Position - 0x2CBC{
int num;
int offset;
if(iParam0 <=31){
num=9;
offset=iParam0;
}else{
num=10;
offset=iParam0 - 32;
}
if(IS_BIT_SET(Global_113648.f_9087.f_99.f_219[num], offset)) return 0;
MISC::SET_BIT(&Global_113648.f_9087.f_99.f_219[num], offset);
return 1;
}


void func_75(BOOL bParam0) // Position - 0x2D13{
int i;
if(HUD::DOES_BLIP_EXIST(blLocal_390)) HUD::REMOVE_BLIP(&blLocal_390);
func_64();
if(!AUDIO::HAS_SOUND_FINISHED(iLocal_408)) AUDIO::STOP_SOUND(iLocal_408);
func_57();
for (i=0;
i < iLocal_55;
i=i + 1){
func_46(&(iLocal_55[i /*11*/].f_2));
func_35(&(iLocal_55[i /*11*/].f_1));
iLocal_55[i /*11*/].f_1=0;
}
if(bParam0){
if(func_77(&(uLocal_42.f_1)) || func_17(110)==true) func_76(27);
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(uLocal_42.f_7);
SCRIPT::TERMINATE_THIS_THREAD();
}else{
iLocal_386=0;
}
return;
}

int func_76(int iParam0) // Position - 0x2DB2{
int num;
int offset;
if(iParam0 <=31){
num=9;
offset=iParam0;
}else{
num=10;
offset=iParam0 - 32;
}
if(IS_BIT_SET(Global_113648.f_9087.f_99.f_219[num], offset)){
MISC::CLEAR_BIT(&Global_113648.f_9087.f_99.f_219[num], offset);
return 1;
}
return 0;
}
BOOL func_77(var uParam0) // Position - 0x2E09{
uParam0->f_3 <=0;
return uParam0->f_4 >=uParam0->f_3;
}